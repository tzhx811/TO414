---
title: "StrokeData"
author: "Evan Jiang"
date: "3/29/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
stroke <- read.csv("healthcare-dataset-stroke-data.csv")
stroke <- stroke[stroke$gender != "Other",]
stroke$id <- NULL
stroke$gender <- as.factor(stroke$gender)
stroke$work_type <- as.factor(stroke$work_type)
stroke$smoking_status <- as.factor(stroke$smoking_status)
stroke$ever_married <- as.factor(stroke$ever_married)
stroke$Residence_type <- as.factor(stroke$Residence_type)
stroke$heart_disease <- as.factor(stroke$heart_disease)
stroke$bmi <- as.numeric(stroke$bmi)

summary(stroke)
normalize <- function(x) {
  return ((x - min(x)) / (max(x) - min(x)))
}

strokemm <- as.data.frame(model.matrix(~.-1,stroke))
set.seed(12345)
#25% ish in test, all others in train, for this choose round numbers - 1280 random in test, others in train
testrows <- sample(1:nrow(strokemm),1280)
stroketrain <- strokemm[-testrows, ]
stroketest <- strokemm[testrows, ]

ageYoung <- stroketrain[stroketrain$age <= 55,]
ageOld <- stroketrain[stroketrain$age > 55,]
bmiRisk <- stroketrain[stroketrain$bmi > 26.5 & stroketrain$bmi < 32,]
bmiNotRisk <- stroketrain[stroketrain$bmi <= 26.5 | stroketrain$bmi >= 32,]

ageYoungNorm <- as.data.frame(lapply(ageYoung, normalize))
ageOldNorm <- as.data.frame(lapply(ageOld, normalize))
bmiRiskNorm <- as.data.frame(lapply(bmiRisk, normalize))
bmiNotRiskNorm <- as.data.frame(lapply(bmiNotRisk, normalize))

```

