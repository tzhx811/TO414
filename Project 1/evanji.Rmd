---
title: "evanji"
author: "Evan Jiang"
date: "2/16/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


Reading the data and changing to factors
```{r}
hotel_bookings = read.csv("hotel_bookings.csv")
hotel_bookings$is_repeated_guest = as.factor(hotel_bookings$is_repeated_guest)
hotel_bookings$company = as.factor(hotel_bookings$company)
hotel_bookings$hotel = as.factor(hotel_bookings$hotel)
hotel_bookings$arrival_date_month = as.factor(hotel_bookings$arrival_date_month)
hotel_bookings$arrival_date_year = as.factor(hotel_bookings$arrival_date_year)
hotel_bookings$meal = as.factor(hotel_bookings$meal)
hotel_bookings$country = as.factor(hotel_bookings$country)
hotel_bookings$market_segment = as.factor(hotel_bookings$market_segment)
hotel_bookings$distribution_channel = as.factor(hotel_bookings$distribution_channel)
hotel_bookings$reserved_room_type = as.factor(hotel_bookings$reserved_room_type)
hotel_bookings$assigned_room_type = as.factor(hotel_bookings$assigned_room_type)
hotel_bookings$agent = as.factor(hotel_bookings$agent)
hotel_bookings$reservation_status_date = as.factor(hotel_bookings$reservation_status_date)
hotel_bookings$reservation_status = as.factor(hotel_bookings$reservation_status)
hotel_bookings$customer_type = as.factor(hotel_bookings$customer_type)
hotel_bookings$deposit_type = as.factor(hotel_bookings$deposit_type)
```

Numerical data = scatter plot with x=number of whatever and y=proportion of canceled
```{r}
hotel_bookings$totalguests <- hotel_bookings$adults + hotel_bookings$children + hotel_bookings$babies
aggregate(is_canceled ~ adults, data=hotel_bookings, mean)
aggregate(is_canceled ~ children, data=hotel_bookings, mean)
aggregate(is_canceled ~ babies, data=hotel_bookings, mean)
aggregate(is_canceled ~ totalguests, data=hotel_bookings, mean)
cancelratebyguests <- aggregate(is_canceled ~ totalguests, data=hotel_bookings, mean)
barplot(cancelratebyguests$is_canceled,col=cancelratebyguests$totalguests,names.arg=cancelratebyguests$totalguests,xlab="Total Number of Guests",ylab="Cancellation Rate",border=TRUE,axes=TRUE,ylim=c(0,1))
cancelratebyadults <- aggregate(is_canceled ~ adults, data=hotel_bookings, mean)
barplot(cancelratebyadults$is_canceled,col=cancelratebyadults$adults,names.arg=cancelratebyadults$adults,xlab="Total Number of Adults",ylab="Cancellation Rate",border=TRUE,axes=TRUE,ylim=c(0,1))
```

```{r}

```